CREATE DEFINER=`root`@`localhost` PROCEDURE `DATE_DUE_RANGE_QUERY`(IN dateB text, In dateE text, In pageSize int, In offsetNum int)
BEGIN
SELECT PART_HISTORY.PART_HISTORY_ID
	,CUSTOMERS.CUSTOMER_NAME
	,OPERATORS.OPERATOR_NAME
    ,PART_HISTORY.PART_NUMBER
    ,PART_HISTORY.QTY
    ,PART_HISTORY.DATE_RECEIVED
    ,PART_HISTORY.DATE_DUE
    ,PART_HISTORY.OPERATIONS
    ,PART_HISTORY.PURCHASE_ORDER_NUMBER
FROM ((CUSTOMERS
	INNER JOIN PART_HISTORY ON CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS ON PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS ON OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE (((PART_HISTORY.DATE_DUE) between dateB AND dateE))
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY PART_HISTORY.DATE_DUE
LIMIT pageSize OFFSET offsetNum;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `DATE_DUE_RANGE_QUERY_COUNT`(IN dateB text, In dateE text)
BEGIN
SELECT COUNT(*)
FROM ((CUSTOMERS
	INNER JOIN PART_HISTORY ON CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS ON PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS ON OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE (((PART_HISTORY.DATE_DUE) between dateB AND dateE))
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY PART_HISTORY.DATE_DUE;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `PART_NUMBER_QUERY`(IN partNo text, In pageSize int, In offsetNum int)
BEGIN
SELECT PART_HISTORY.PART_HISTORY_ID
	,CUSTOMERS.CUSTOMER_NAME
	,OPERATORS.OPERATOR_NAME
    ,PART_HISTORY.PART_NUMBER
    ,PART_HISTORY.QTY
    ,PART_HISTORY.DATE_RECEIVED
    ,PART_HISTORY.DATE_DUE
    ,PART_HISTORY.OPERATIONS
    ,PART_HISTORY.PURCHASE_ORDER_NUMBER
FROM ((CUSTOMERS 
	INNER JOIN PART_HISTORY ON CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS ON PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS ON OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE (((PART_HISTORY.PART_NUMBER) LIKE partNo))
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY PART_HISTORY.DATE_DUE
LIMIT pageSize OFFSET offsetNum;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `PART_NUMBER_QUERY_COUNT`(IN partNo text)
BEGIN
SELECT COUNT(*)
FROM ((CUSTOMERS 
	INNER JOIN PART_HISTORY ON CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS ON PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS ON OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE (((PART_HISTORY.PART_NUMBER) LIKE partNo))
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY PART_HISTORY.DATE_DUE;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `OPERATOR_NAME_QUERY`(IN opName text, In pageSize int, In offsetNum int)
BEGIN
SELECT PART_HISTORY.PART_HISTORY_ID
	,CUSTOMERS.CUSTOMER_NAME
	,OPERATORS.OPERATOR_NAME
    ,PART_HISTORY.PART_NUMBER
    ,PART_HISTORY.QTY
    ,PART_HISTORY.DATE_RECEIVED
    ,PART_HISTORY.DATE_DUE
    ,PART_HISTORY.OPERATIONS
    ,PART_HISTORY.PURCHASE_ORDER_NUMBER
FROM ((CUSTOMERS 
	INNER JOIN PART_HISTORY ON CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS ON PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS ON OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE (((OPERATORS.OPERATOR_NAME) LIKE opName))
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY PART_HISTORY.DATE_DUE
LIMIT pageSize OFFSET offsetNum;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `OPERATOR_NAME_QUERY_COUNT`(IN opName text)
BEGIN
SELECT COUNT(*)
FROM ((CUSTOMERS 
	INNER JOIN PART_HISTORY ON CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS ON PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS ON OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE (((OPERATORS.OPERATOR_NAME) LIKE opName))
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY PART_HISTORY.DATE_DUE;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `BENDING_WORK_QUERY`(In pageSize int, In offsetNum int)
BEGIN
SELECT PART_HISTORY.PART_HISTORY_ID
	,CUSTOMERS.CUSTOMER_NAME
	,OPERATORS.OPERATOR_NAME
    ,PART_HISTORY.PART_NUMBER
    ,PART_HISTORY.QTY
    ,PART_HISTORY.DATE_RECEIVED
    ,PART_HISTORY.DATE_DUE
    ,PART_HISTORY.OPERATIONS
    ,PART_HISTORY.PURCHASE_ORDER_NUMBER
FROM ((CUSTOMERS 
	INNER JOIN PART_HISTORY ON CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS ON PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS ON OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE (((OPERATORS.OPERATOR_ID) = 4 OR (OPERATORS.OPERATOR_ID) = 5))
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY OPERATORS.OPERATOR_NAME
LIMIT pageSize OFFSET offsetNum;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `BENDING_WORK_QUERY_COUNT`()
BEGIN
SELECT COUNT(*)
FROM ((CUSTOMERS 
	INNER JOIN PART_HISTORY ON CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS ON PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS ON OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE (((OPERATORS.OPERATOR_ID) = 4 OR (OPERATORS.OPERATOR_ID) = 5))
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY OPERATORS.OPERATOR_NAME;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `NC_MACHINE_WORK_QUERY`(In pageSize int, In offsetNum int)
BEGIN
SELECT PART_HISTORY.PART_HISTORY_ID
	,CUSTOMERS.CUSTOMER_NAME
	,OPERATORS.OPERATOR_NAME
    ,PART_HISTORY.PART_NUMBER
    ,PART_HISTORY.QTY
    ,PART_HISTORY.DATE_RECEIVED
    ,PART_HISTORY.DATE_DUE
    ,PART_HISTORY.OPERATIONS
    ,PART_HISTORY.PURCHASE_ORDER_NUMBER
FROM ((CUSTOMERS 
	INNER JOIN PART_HISTORY ON CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS ON PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS ON OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE (((OPERATORS.OPERATOR_ID) = 1 OR (OPERATORS.OPERATOR_ID) = 2 
	OR (OPERATORS.OPERATOR_ID) = 3))
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY OPERATORS.OPERATOR_NAME
LIMIT pageSize OFFSET offsetNum;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `NC_MACHINE_WORK_QUERY_COUNT`()
BEGIN
SELECT COUNT(*)
FROM ((CUSTOMERS 
	INNER JOIN PART_HISTORY ON CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS ON PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS ON OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE (((OPERATORS.OPERATOR_ID) = 1 OR (OPERATORS.OPERATOR_ID) = 2 
	OR (OPERATORS.OPERATOR_ID) = 3))
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY OPERATORS.OPERATOR_NAME;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `QUERY_LAST_7_DAYS`(In pageSize int, In offsetNum int)
BEGIN
SELECT PART_HISTORY.PART_HISTORY_ID
	,CUSTOMERS.CUSTOMER_NAME
	,OPERATORS.OPERATOR_NAME
	,PART_HISTORY.PART_NUMBER
	,PART_HISTORY.QTY
	,PART_HISTORY.DATE_RECEIVED
	,PART_HISTORY.DATE_DUE
	,PART_HISTORY.OPERATIONS
    ,PART_HISTORY.PURCHASE_ORDER_NUMBER
FROM ((CUSTOMERS
	INNER JOIN PART_HISTORY on CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS on PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS on OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE PART_HISTORY.DATE_RECEIVED BETWEEN CURDATE() - INTERVAL 6 DAY AND CURDATE()
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY PART_HISTORY.DATE_RECEIVED
LIMIT pageSize OFFSET offsetNum;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `QUERY_LAST_7_DAYS_COUNT`()
BEGIN
SELECT COUNT(*)
FROM ((CUSTOMERS
	INNER JOIN PART_HISTORY on CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS on PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS on OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE PART_HISTORY.DATE_RECEIVED BETWEEN CURDATE() - INTERVAL 6 DAY AND CURDATE()
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY PART_HISTORY.DATE_RECEIVED;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `QUERY_LAST_14_DAYS`(In pageSize int, In offsetNum int)
BEGIN
SELECT PART_HISTORY.PART_HISTORY_ID
	,CUSTOMERS.CUSTOMER_NAME
	,OPERATORS.OPERATOR_NAME
	,PART_HISTORY.PART_NUMBER
	,PART_HISTORY.QTY
	,PART_HISTORY.DATE_RECEIVED
	,PART_HISTORY.DATE_DUE
	,PART_HISTORY.OPERATIONS
    ,PART_HISTORY.PURCHASE_ORDER_NUMBER
FROM ((CUSTOMERS
	INNER JOIN PART_HISTORY on CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS on PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS on OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE PART_HISTORY.DATE_RECEIVED BETWEEN CURDATE() - INTERVAL 13 DAY AND CURDATE()
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY PART_HISTORY.DATE_RECEIVED
LIMIT pageSize OFFSET offsetNum;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `QUERY_LAST_14_DAYS_COUNT`()
BEGIN
SELECT COUNT(*)
FROM ((CUSTOMERS
	INNER JOIN PART_HISTORY on CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS on PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS on OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE PART_HISTORY.DATE_RECEIVED BETWEEN CURDATE() - INTERVAL 13 DAY AND CURDATE()
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY PART_HISTORY.DATE_RECEIVED;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `FABRICATION_DEPARTMENT_QUERY`(In pageSize int, In offsetNum int)
BEGIN
SELECT PART_HISTORY.PART_HISTORY_ID
	,CUSTOMERS.CUSTOMER_NAME
	,OPERATORS.OPERATOR_NAME
    ,PART_HISTORY.PART_NUMBER
    ,PART_HISTORY.QTY
    ,PART_HISTORY.DATE_RECEIVED
    ,PART_HISTORY.DATE_DUE
    ,PART_HISTORY.OPERATIONS
    ,PART_HISTORY.PURCHASE_ORDER_NUMBER
FROM ((CUSTOMERS 
	INNER JOIN PART_HISTORY ON CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS ON PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS ON OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE ((JOBS.JOB_ID = 1) OR (JOBS.JOB_ID = 2) OR (JOBS.JOB_ID = 3) OR (JOBS.JOB_ID = 4))
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY OPERATORS.OPERATOR_NAME
LIMIT pageSize OFFSET offsetNum;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `FABRICATION_DEPARTMENT_QUERY_COUNT`()
BEGIN
SELECT COUNT(*)
FROM ((CUSTOMERS 
	INNER JOIN PART_HISTORY ON CUSTOMERS.CUSTOMER_ID = PART_HISTORY.CUSTOMER_ID)
    INNER JOIN OPERATORS ON PART_HISTORY.OPERATOR_ID = OPERATORS.OPERATOR_ID)
    INNER JOIN JOBS ON OPERATORS.JOB_ID = JOBS.JOB_ID
WHERE ((JOBS.JOB_ID = 1) OR (JOBS.JOB_ID = 2) OR (JOBS.JOB_ID = 3) OR (JOBS.JOB_ID = 4))
AND (PART_HISTORY.TO_DELETE = FALSE)
ORDER BY OPERATORS.OPERATOR_NAME;
END



CREATE DEFINER=`root`@`localhost` PROCEDURE `GET_OPERATORS`()
BEGIN
SELECT OPERATORS.OPERATOR_ID
	,OPERATORS.OPERATOR_NAME
FROM 
	OPERATORS
ORDER BY OPERATORS.OPERATOR_ID;
END




